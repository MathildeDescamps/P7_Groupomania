[{"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/index.js":"1","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/reportWebVitals.js":"2","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/serviceWorkerRegistration.js":"3","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/containers/App.js":"4","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/AuthForm/AuthForm.js":"5","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/containers/Accueil.js":"6","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/Header/Header.js":"7","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/Footer/Footer.js":"8","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/containers/Profile.js":"9","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/PageBodyContainer.js":"10","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/BodyContent.js":"11","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/ProfilePageBodyContainer.js":"12","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/CreatePost.js":"13","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/Header/SearchBox.js":"14","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/Likes.js":"15","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/Comments.js":"16","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/AuthForm/AuthHeader.js":"17","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/Post.js":"18"},{"size":573,"mtime":1610909539000,"results":"19","hashOfConfig":"20"},{"size":364,"mtime":1610909539000,"results":"21","hashOfConfig":"20"},{"size":5064,"mtime":1610909539000,"results":"22","hashOfConfig":"20"},{"size":983,"mtime":1611174234489,"results":"23","hashOfConfig":"20"},{"size":17134,"mtime":1611240862598,"results":"24","hashOfConfig":"20"},{"size":1329,"mtime":1611401562843,"results":"25","hashOfConfig":"20"},{"size":3166,"mtime":1611400966321,"results":"26","hashOfConfig":"20"},{"size":883,"mtime":1611219202989,"results":"27","hashOfConfig":"20"},{"size":1147,"mtime":1611219984638,"results":"28","hashOfConfig":"20"},{"size":5877,"mtime":1611232121632,"results":"29","hashOfConfig":"20"},{"size":927,"mtime":1610966692871,"results":"30","hashOfConfig":"20"},{"size":9920,"mtime":1611400630331,"results":"31","hashOfConfig":"20"},{"size":11493,"mtime":1611216482244,"results":"32","hashOfConfig":"20"},{"size":804,"mtime":1611231787397,"results":"33","hashOfConfig":"20"},{"size":5767,"mtime":1611235178707,"results":"34","hashOfConfig":"20"},{"size":8826,"mtime":1611235174238,"results":"35","hashOfConfig":"20"},{"size":254,"mtime":1611219765310,"results":"36","hashOfConfig":"20"},{"size":6557,"mtime":1611396695682,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"713fjp",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"40"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"40"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/index.js",[],["82","83"],"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/reportWebVitals.js",[],"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/serviceWorkerRegistration.js",[],"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/containers/App.js",[],"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/AuthForm/AuthForm.js",["84","85","86","87","88","89","90","91"],"import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport clsx from 'clsx';\nimport { Button, IconButton, Input, InputLabel, InputAdornment, Link, FormControl, FormControlLabel, FormHelperText, Checkbox } from '@material-ui/core/';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport logo from '../../portalLogo.png';\n\nconst UrlAPI = 'http://localhost:3000/api/auth';\n\n// STYLE DU COMPOSANT :\nconst useStyles = makeStyles((theme) => ({\n    logo: {\n        height: '10ch',\n        marginTop: '23ch',\n        [theme.breakpoints.down('md')]: {\n            marginTop: '45ch',\n            position: 'relative',\n            top: '200px',\n        },\n    },\n    loginRoot: {\n        display: 'flex',\n        flexDirection : 'column',\n        alignItems: 'center',\n        backgroundColor: '#F1D4D4',\n        color: '#9C9D9C',\n        width: '50ch',\n        height: '30ch',\n        position: 'absolute',\n        top: 50,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        margin: 'auto',\n        paddingTop: '5ch',\n    },\n    signupRoot: {\n        display: 'none',\n        flexDirection : 'column',\n        alignItems: 'center',\n        backgroundColor: '#F1D4D4',\n        color: '#9C9D9C',\n        width: '50ch',\n        height: '65ch',\n        position: 'absolute',\n        top: 180,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        margin: 'auto',\n        paddingTop: '3ch',\n    },\n    formField: {\n        width: '30ch',\n        marginBottom: '2ch',\n        backgroundColor: '#F6F5F5',\n        borderRadius: '10px',\n    },\n    label: {\n        marginLeft: '15px',\n    },\n    icon: {\n        marginRight: '10px',\n    },\n    checkbox: {\n        backgroundColor: 'white',\n        width: '40ch',\n        borderRadius: '10px',\n        padding: '10px',\n        marginBottom: '3ch',\n        marginTop: '1ch',\n    },\n    loginButton: {\n        backgroundColor: '#D75030',\n        width: '25ch',\n        color: 'white',\n        marginBottom: '4ch',\n        position: 'relative',\n        top: '20px',\n        '&:hover': {\n            backgroundColor: '#BF5438'\n        },\n    },\n    signupButton: {\n        backgroundColor: '#D75030',\n        width: '25ch',\n        color: 'white',\n        marginTop: '4ch',\n        marginBottom: '2ch',\n        position: 'relative',\n        '&:hover': {\n            backgroundColor: '#BF5438'\n        },\n    },\n    link: {\n        color: '#D75030',\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'underline',\n        },\n        [theme.breakpoints.down('md')]: {\n            position: 'relative',\n            top: '40px',\n        },\n    },\n}));\n\n// LOGIQUE DU COMPOSANT :\n    let emailIsValid;\n    let passwordIsValid;\n    let firstnameIsValid;\n    let lastnameIsValid;\n    let statusIsValid;\n\nconst AuthForm = () => {\n\n    let history = useHistory();\n    const classes = useStyles();\n\n    //On crée les constantes login, password, etc et on les initialise. Ce sont des strings vides au départ mais elles seront mises à jour avec setName().\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [showPassword, setShowPassword] = useState(false);\n    const [firstname, setFirstname] = useState(\"\");\n    const [lastname, setLastname] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n    const [hiringDate, setHiringDate] = useState(\"\");\n\n    const showSignup = () => { \n        document.getElementById('loginError').style.display=\"none\";\n        document.getElementById(\"login-form\").style.display=\"none\";\n        document.getElementById(\"signup-form\").style.display=\"flex\"; \n        document.getElementById(\"logo\").style.marginTop=\"10ch\";\n    };\n\n    const showLogin = () => { \n        document.getElementById(\"login-form\").style.display=\"flex\";\n        document.getElementById(\"signup-form\").style.display=\"none\"; \n        document.getElementById(\"logo\").style.marginTop=\"23ch\";\n    }\n\n    const displaySuccessMessage = () => {\n        let signedUpMessage = document.getElementById('sign-up-ok');\n        signedUpMessage.style.cssText='display: block; width: 35%; margin: auto; position: relative; top: 30px; color: green; background-color: #D5EDD1; border: green 1px solid; border-radius: 5px; padding: 5px 0px 5px 0px;';\n    };\n\n    const emailValidation = () => {\n        let emailRegEx = /^([A-Za-z0-9_\\-.])+@([A-Za-z0-9_\\-.])+\\.([A-Za-z]{2,4})$/;\n        emailIsValid = emailRegEx.test(email);\n        if (emailIsValid == false) {\n            document.getElementById('emailError').style.display=\"block\";\n            return emailIsValid;\n        } else {\n            document.getElementById('emailError').style.display=\"none\";\n            return emailIsValid;\n        };\n    };\n//let textRegEx = /^[A-Za-z\\-_\\s]+$/;\n    const passwordValidation = () => {\n        let passwordRegEx = /^[\\w]+$/;\n        passwordIsValid = passwordRegEx.test(password);\n        if (passwordIsValid == false) { \n            document.getElementById('passwordError').style.display=\"block\"; \n            return passwordIsValid;\n        } else {\n            document.getElementById('passwordError').style.display=\"none\";\n            return passwordIsValid;\n        };\n    };\n\n    const firstnameValidation = () => {\n        let textRegEx = /^[A-Za-z\\-_\\s]+$/;\n        firstnameIsValid = textRegEx.test(firstname);\n        if (firstnameIsValid == false) { \n            document.getElementById('firstnameError').style.display=\"block\"; \n            return firstnameIsValid;\n        } else {\n            document.getElementById('firstnameError').style.display=\"none\";\n            return firstnameIsValid;\n        };\n    };\n\n    const lastnameValidation = () => {\n        let textRegEx = /^[A-Za-z\\-_\\s]+$/;\n        lastnameIsValid = textRegEx.test(lastname);\n        if (lastnameIsValid == false) { \n            document.getElementById('lastnameError').style.display=\"block\"; \n            return lastnameIsValid;\n        } else {\n            document.getElementById('lastnameError').style.display=\"none\";\n            return lastnameIsValid;\n        };\n    };\n\n    const statusValidation = () => {\n        let textRegEx = /^[A-Za-z\\-_\\s]+$/;\n        statusIsValid = textRegEx.test(status);\n        if (statusIsValid == false) { \n            document.getElementById('statusError').style.display=\"block\"; \n            return statusIsValid;\n        } else {\n            document.getElementById('statusError').style.display=\"none\";\n            return statusIsValid;\n        };\n    };\n\n    const handleLoginSubmit = (e) => {\n        //On place ici la logique à appliquer lorsque le user clique sur 'Se connecter'.\n        axios({\n            method: 'post',\n            url: UrlAPI + '/login',\n            data: { email : email, password: password}\n        })\n        //Si la connexion réussie, le backend nous renvoi un token et les infos du user connecté (que l'on stocke dans le session storage) et celui-ci accède à l'application.\n        .then(response => {\n            let user = response.data.user;\n            user.token = response.data.token;\n            sessionStorage.setItem(\"currentUser\", JSON.stringify(user));\n            history.push('/accueil');\n        })\n        //Si la connexion échoue, un message d'erreur s'affiche.\n        .catch(error => {\n            console.log(error);\n            let loginError = document.getElementById('loginError');\n            loginError.style.cssText='display: block; width: 35%; margin: auto; position: relative; top: 30px; color: red; background-color: #E7E3E3; border: red 1px solid; border-radius: 5px; padding: 5px 0px 5px 0px';\n        });\n    };\n    const handleSignupSubmit = async (e) => {\n        //On envoi à l'API une requête POST contenant les infos du nouveau user pour qu'il soit ajouté en base.\n        if (emailIsValid && passwordIsValid && firstnameIsValid && lastnameIsValid && statusIsValid) { \n            axios({\n                method: 'post',\n                url: UrlAPI + '/signup',\n                data: { email : email, password: password, firstname: firstname, lastname: lastname, status: status, hiringDate: hiringDate }\n            })\n            //Si l'inscription se passe bien, le user est renvoyée sur la page de login avec un message de succès et doit se connecter.\n            .then(response => {\n                console.log(response);\n                document.getElementById('loginError').style.display=\"none\";\n                setPassword(\"\");\n                showLogin();\n                displaySuccessMessage();\n            })\n            //Si non, un message d'erreur s'affiche et il n'est pas redirigé vers la page de login.\n            .catch(error => {\n                console.log(error);\n                document.getElementById(\"logo\").style.marginTop=\"7ch\";\n                document.getElementById('loginError').style.display=\"block\";\n                document.getElementById('signup-form').style.height='95ch';\n            });\n        } else {\n            console.log('oops');\n        }\n    }\n\n    const handleClickShowPassword = () => {\n        setShowPassword(!showPassword);\n    };\n\n    const handleMouseDownPassword = (event) => {\n        event.preventDefault();\n    };\n\n    return (\n            <div id=\"form-container\">\n                <p id=\"sign-up-ok\" style={{display: 'none'}}>Félicitations, vous êtes inscrit ! Connectez-vous pour accéder à Postmania.</p>\n                <p id=\"loginError\" style={{display: 'none', width: '35%', margin: 'auto', position: 'relative', top: '30px', color: '#FF0000', backgroundColor: '#FFC1C1', border: '#FF0000 1px solid', borderRadius: '5px', padding: '5px 0px 5px 0px' }} >La connexion a échouée, veuillez réessayer.</p>\n                <p id=\"signupError\" style={{display: 'none'}} >L'inscription a échouée, veuillez réessayer.</p>\n                <img src={ logo } alt='[ logo Postmania ]' className={classes.logo} id=\"logo\" />\n                <form id=\"login-form\" className={classes.loginRoot} noValidate autoComplete=\"off\">\n                    <FormControl className={clsx(classes.margin, classes.formField)}>\n                        <InputLabel className={classes.label} value={email} htmlFor=\"standard-adornment-login\">Email</InputLabel>\n                        <Input  className={classes.label} id=\"login-email-field\" type=\"email\" endAdornment={\n                            <InputAdornment position=\"end\">\n                                <AccountCircle className={classes.icon} />\n                            </InputAdornment>\n                        } onChange={(e) => setEmail(e.target.value)}/>\n                    </FormControl>\n                    <FormControl className={clsx(classes.margin, classes.formField)}>\n                        <InputLabel className={classes.label} htmlFor=\"standard-adornment-password\">Mot de passe</InputLabel>\n                        <Input className={classes.label} id=\"passwordInput\" value={password} type={showPassword ? 'text' : 'password'} endAdornment={\n                            <InputAdornment position=\"end\">\n                                <IconButton aria-label=\"toggle password visibility\" onClick={handleClickShowPassword} onMouseDown={handleMouseDownPassword}>\n                                    {showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>\n                        } onChange={(e) => setPassword(e.target.value)}/>\n                    </FormControl>\n                    <Button id=\"loginButton\" size=\"large\" className={classes.loginButton} onClick={handleLoginSubmit}>Se connecter</Button>\n                    <Link className={classes.link} href=\"#\" onClick={showSignup} >Vous n'avez pas encore de compte ? S'inscrire.</Link>\n                </form>\n                <form id=\"signup-form\" className={classes.signupRoot} noValidate autoComplete=\"off\">\n                    <FormControl className={clsx(classes.margin, classes.formField)}>\n                        <InputLabel className={classes.label} htmlFor=\"standard-adornment-login\">Email</InputLabel>\n                        <Input className={classes.label} id=\"signup-email-field\" value={email} type=\"email\" onBlur={emailValidation} endAdornment={\n                            <InputAdornment position=\"end\">\n                                <AccountCircle className={classes.icon} />\n                            </InputAdornment>\n                        } \n                        onChange={(e) => setEmail(e.target.value)} />\n                        <p id=\"emailError\" style={{display: 'none', color: 'red', fontSize: '12px'}} >Veuillez saisir une adresse mail valide.</p>\n                    </FormControl>\n                    <FormControl className={clsx(classes.margin, classes.formField)}>\n                        <InputLabel className={classes.label} htmlFor=\"standard-adornment-password\">Mot de passe</InputLabel>\n                        <Input className={classes.label} id=\"signup-password-field\" value={password} type={showPassword ? 'text' : 'password'} onBlur={passwordValidation} endAdornment={\n                            <InputAdornment position=\"end\">\n                                <IconButton aria-label=\"toggle password visibility\" onClick={handleClickShowPassword} onMouseDown={handleMouseDownPassword}>\n                                    {showPassword ? <Visibility /> : <VisibilityOff />}\n                                </IconButton>\n                            </InputAdornment>\n                        } onChange={(e) => setPassword(e.target.value)}/>\n                        <p id=\"passwordError\" style={{display: 'none', color: 'red', fontSize: '12px'}}>Mot de passe invalide ( chiffres et lettres uniquement ).</p>\n                    </FormControl>\n                    <FormControl className={clsx(classes.margin, classes.formField)}>\n                        <InputLabel className={classes.label} htmlFor=\"standard-adornment-firstname\">Prénom</InputLabel>\n                        <Input className={classes.label} id=\"firstname-field\" value={firstname} type=\"text\" onBlur={firstnameValidation} onChange={(e) => setFirstname(e.target.value)}/>\n                        <p id=\"firstnameError\" style={{display: 'none', color: 'red', fontSize: '12px'}}>Saisie invalide (lettres, tirets et espaces uniquement).</p>\n                    </FormControl>\n                    <FormControl className={clsx(classes.margin, classes.formField)}>\n                        <InputLabel className={classes.label} htmlFor=\"standard-adornment-lastname\">Nom</InputLabel>\n                        <Input className={classes.label} id=\"lastname-field\" value={lastname} type=\"text\" onBlur={lastnameValidation} onChange={(e) => setLastname(e.target.value)}/>\n                        <p id=\"lastnameError\" style={{display: 'none', color: 'red', fontSize: '12px'}}>Saisie invalide (lettres, tirets et espaces uniquement).</p>\n                    </FormControl>\n                    <FormControl className={clsx(classes.margin, classes.formField)}>\n                        <InputLabel className={classes.label} htmlFor=\"standard-adornment-status\">Statut</InputLabel>\n                        <Input className={classes.label} id=\"status-field\" value={status} type=\"text\" onBlur={statusValidation} onChange={(e) => setStatus(e.target.value)}/>\n                        <FormHelperText className={classes.label} id=\"outlined-weight-helper-text\">Ex : Directeur commerciale.</FormHelperText>\n                        <p id=\"statusError\" style={{display: 'none', color: 'red', fontSize: '12px'}}>Saisie invalide (lettres, tirets et espaces uniquement).</p>\n                    </FormControl>\n                    <FormControl className={clsx(classes.margin, classes.formField)}>\n                        <Input className={classes.label} id=\"hiringDate-field\" value={hiringDate} type=\"date\" onChange={(e) => setHiringDate(e.target.value)}/>\n                        <FormHelperText className={classes.label} id=\"outlined-weight-helper-text\">Date d'embauche</FormHelperText>\n                    </FormControl>\n                    {/* <FormControl className={ classes.checkbox}>\n                        <FormControlLabel required control={ \n                            <Checkbox name=\"RGPD\" color=\"default\" inputProps={{ 'aria-label': 'checkbox with default color' }} />\n                            } label=\"En cochant cette case, je reconnais avoir pris connaissance de la charte RGPD de CAP Formation et en accepte les termes.\"/>\n                    </FormControl> */}\n                    <Button size=\"large\" className={classes.signupButton} onClick={handleSignupSubmit}>S'inscrire</Button>\n                    <Link className={classes.link} href=\"/\" onClick={showLogin} >Vous avez déjà un compte ? Se connecter.</Link>\n                </form>\n            </div>\n    );\n};\n\nexport default AuthForm;","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/containers/Accueil.js",["92","93","94","95"],"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/Header/Header.js",["96","97","98"],"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/Footer/Footer.js",[],"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/containers/Profile.js",["99","100"],"import React, { useState, useEffect } from 'react';\nimport Header from '../components/Header/Header';\nimport Footer from '../components/Footer/Footer';\nimport ProfilePageBodyContainer from '../components/PostAndTheme/ProfilePageBodyContainer';\nimport axios from 'axios';\nimport authHeader from '../components/AuthForm/AuthHeader';\n\nconst UrlAPI = 'http://localhost:3000/api/';\n\nconst Profile = () => {\n  const [userList, setUserList] = useState(null);\n  let currentUser = JSON.parse(sessionStorage.getItem(\"currentUser\"));\n  if (!currentUser) {\n    window.location.pathname = \"/\";\n  }\n  const getUsers = async () => {\n    const response = await axios.get(UrlAPI + currentUser.id + '/users', { headers: authHeader() })\n        .then(result => result.data)\n        .then(data => setUserList(data))\n        .catch(res => { \n          console.log(res.data);\n        });\n  }\n\n  useEffect ( () => {\n      if (!userList) getUsers();\n  }, []);\n\n    return (\n      <>\n        {userList && <Header userList={userList} />}\n        {userList && <ProfilePageBodyContainer userList={userList} />}\n        <Footer /> \n      </>\n    );\n};\nexport default Profile;\n","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/PageBodyContainer.js",["101","102","103","104"],"import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CssBaseline, Button } from '@material-ui/core';\nimport CreatePost from './CreatePost';\nimport Post from './Post';\nimport axios from 'axios';\nimport authHeader from '../AuthForm/AuthHeader';\n\nconst UrlAPI = 'http://localhost:3000/api/';\n\n// STYLE :\n\nconst useStyles = makeStyles((theme) => ({\n        postContainer: {\n            width: '80%',\n            position: 'relative',\n            paddingTop: '10ch',\n        },\n        themeContainer: {\n            backgroundColor: '#F1D4D4',\n            width: '20%',\n            height: '100%',\n            position: 'fixed',\n            right: '0', \n            top: '0',\n            marginTop: '10ch',      \n            paddingLeft: '1ch',\n            paddingRight: '1ch',\n        },\n        themeContainerHeader: {\n            backgroundColor: '#D7502F',\n            color: 'white',\n            fontSize: '28px',\n            fontWeight: '600',\n            textAlign: 'center',\n            padding: '1ch',\n        },\n        themeFlexBox: {\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'flex-start',\n            height: '100%',\n        },\n        themesButtons: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            justifyContent: 'center',\n        },\n        cancelFiltersButton: {\n            backgroundColor: '#D64F30',\n            color: 'white',\n            \"&:hover\": {\n                backgroundColor: '#FF5F39'\n            },\n            marginLeft: '1ch',\n            marginRight: '1ch',\n            marginTop: '1ch',\n        },\n        themeButton: {\n            backgroundColor: '#FFFFFE',\n            color: '#696A6B',\n            fontSize: '18px',\n            fontWeight: '400',\n            padding: '1ch',\n            maxWidth: '24ch',\n            width: '14ch',\n            textAlign: 'center',\n            margin: '1ch',\n            \"&:hover\": {\n                backgroundColor: '#D64F30',\n                color: '#FFFFFE',\n            },\n        },\n        activeTheme: {\n            fontSize: '18px',\n            fontWeight: '400',\n            padding: '1ch',\n            maxWidth: '24ch',\n            width: '14ch',\n            textAlign: 'center',\n            margin: '1ch',\n            backgroundColor: '#D35233',\n            color: 'white',\n        },\n}));\n\n// LOGIQUE :\n\nconst PageBodyContainer = (props) => {   \n    const [postList, setPostList] = useState(null);\n    const [themeList, setThemeList] = useState(null);\n    const [selectedThemes, setSelectedThemes] = useState([]);\n\n    const classes = useStyles();\n\n    let users = props.userList;\n    let currentUser = JSON.parse(sessionStorage.getItem(\"currentUser\"));\n\n    const getUser = (userid) => {\n        return users.filter(user => (user.id == userid));\n    };\n\n    //On envoi une requête GET à l'API pour récupérer un tableau 'postList' contenant des objets (1 objet / post).\n    useEffect ( () => {\n        if (users) {\n            axios.get(UrlAPI + currentUser.id + '/posts', { headers: authHeader() })\n            .then(result => result.data)\n            .then(data => { \n                setPostList(data.map(p => { \n                    p.author=getUser(p.user)[0]; \n                    return p; \n                }));\n            })\n        };    \n    }, []);\n\n    //On envoi une requête GET à l'API pour récupérer un tableau 'themeList' contenant des objets (1 objet / theme).\n    useEffect ( () => {\n        axios.get(UrlAPI + currentUser.id + '/themes', { headers: authHeader() })\n        .then(result => result.data)\n        .then(data => setThemeList(data))\n    }, []);\n\n    const cancelFilters = () => {\n        setSelectedThemes([]);\n    };\n\n    return (\n        <>\n            <CssBaseline />\n                <div className= { classes.postContainer }>\n                    <CreatePost themes={themeList} />\n                    {postList && postList.filter(post => ((selectedThemes.includes(post.theme))||(selectedThemes.length == 0))).map( (post) => { \n                            return <Post key={post.id} post={post}/>;\n                    })}\n                </div>\n                <div className={ classes.themeContainer } >\n                    <div className={ classes.themeContainerHeader } >THÈMES</div>\n                    <div className={classes.themeFlexBox}>\n                        <div className={classes.themesButtons}>\n                            {themeList && themeList.map((theme) => { \n                                return (\n                                    <Button key={theme.id} \n                                        className={selectedThemes.includes(theme.id) ? classes.activeTheme : classes.themeButton}\n                                        onClick={() => { \n                                            if (!selectedThemes.includes(theme.id)) {\n                                                setSelectedThemes([...selectedThemes, theme.id]);\n                                            }\n                                            else {\n                                                setSelectedThemes(selectedThemes.filter(item => { \n                                                    return item !== theme.id; \n                                                }));\n                                            }\n                                        }} > \n                                        {theme && theme.name} \n                                    </Button>\n                                )\n                            })}\n                        </div>\n                        <Button className={classes.cancelFiltersButton} onClick={cancelFilters} >Retirer tous les filtres</Button>\n                    </div>\n                </div>\n        </>\n    )\n};\n\nexport default PageBodyContainer;","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/BodyContent.js",[],"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/ProfilePageBodyContainer.js",["105","106","107","108","109","110","111","112","113","114","115"],"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/CreatePost.js",["116","117","118","119","120","121","122","123","124","125","126","127"],"import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport { Button } from '@material-ui/core';\nimport ImageUploader from 'react-images-upload';\nimport authHeader from '../AuthForm/AuthHeader';\n\nconst UrlAPI = 'http://localhost:3000/api/';\n\n// STYLE :\n\nconst useStyles = makeStyles((theme) => ({\n    createPostBlock: {\n            display: 'flex',\n            flexDirection: 'column',\n            width: '70%',\n            margin: 'auto',  \n            marginTop: '4ch',\n            marginBottom: '8ch',\n        },\n        createPostHeader: {\n            backgroundColor: '#D75030',\n            color: 'white',\n            width: '20%',\n            padding: '0.5ch',\n            textAlign: 'center',\n            fontSize: '12px',\n        },\n        createPostBody: {\n            display: 'flex',\n            flexDirection: 'column',\n            backgroundColor: '#F2D3D4',\n            padding: '2ch',\n            width: '100%',\n            margin: 'auto',\n        },\n        createPostBodyContent: {\n            backgroundColor: '#FFFFFE',\n            width: '95%',\n            margin: 'auto',\n            padding: '2ch',\n            textAlign: 'left',\n        },  \n        postTextarea: {\n            width: '100%',\n            maxWidth: '100%',\n            height: 'auto',\n            fontFamily: 'Avenir, Segoe, UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif',\n            border: 'none',\n            \"&:focus\": {\n                outline: 'none',\n            },\n        },\n        buttons: {\n            display: 'flex',\n            width: '95%',\n            height: '3.5ch',\n            margin: 'auto',\n            marginTop: '2ch',\n            justifyContent: 'space-between',\n        },\n        buttonsText: {\n            color: '#D75030',\n            fontWeight: '600',\n            fontSize: '14px',   \n            marginRight: '1ch',\n            marginTop: '0.5ch',\n        },\n        dropDownList: {\n            width: '30%',\n            backgroundColor: '#D75030',\n            borderStyle: 'none',\n            color: '#FFFFFE',\n            paddingLeft: '1ch',\n            marginRight: '1ch',\n            fontSize: '14px',   \n            cursor: 'pointer',\n        },\n        createTheme: {\n            color: '#686A6C',\n            width: '35%',\n            fontSize: '14px',   \n            borderStyle: 'none',\n            paddingLeft: '1ch',\n        },\n        publish: {\n            backgroundColor: '#D75030',\n            color: '#FFFFFE',\n            borderRadius: '5px',\n            width: '15%',\n            fontWeight: '400',\n            \"&:hover\": {\n                backgroundColor: '#B85030',\n            },\n        },\n        errorMessages: {\n            display: 'none',\n            width: '100%',\n            marginTop: '0.5ch',\n            color: '#D7502F',\n            fontWeight: '500',\n            textAlign: 'right',\n        },\n}));\n\n// LOGIQUE :\n\nconst CreatePost = props => {\n\n    const classes = useStyles();\n    const [content, setContent] = useState('');\n    const [newTheme, setNewTheme] = useState('');\n    const [user, setUser] = useState('');\n    const [theme, setTheme] = useState('');\n    const [pictures, setPictures] = useState([]);\n\n    const currentUser = JSON.parse(sessionStorage.getItem(\"currentUser\"));\n\n    const handleChange = (event) => {\n        setTheme(event.target.value);\n    };\n\n    const handleContent = (event) => {\n        setContent(event.target.value);\n    };\n\n    const handleNewTheme = (event) => {\n        setNewTheme(event.target.value);\n    };\n    \n    //Gestion d'import d'image(s) lors de la création d'un post.\n    const onDrop = picture => {\n        setPictures(picture);\n    };\n\n    const handlePublication = () => {\n            if(theme != '' && newTheme != '') {\n                let errorBlock = document.getElementById('errorMessages');\n                let errorMessage = document.getElementById('error1');\n                let errorMessage2 = document.getElementById('error2');\n                errorBlock.style.cssText='display: block;';\n                errorMessage.style.cssText='display: block;';\n                errorMessage2.style.cssText='display: none;';\n            } else if (theme != '' && newTheme == '') {\n                axios({\n                    method: 'post',\n                    url: UrlAPI + currentUser.id + '/posts',\n                    data: { content : content, theme: theme, user: currentUser.id },\n                    headers: authHeader(),\n                })\n                .then(function (response) {\n                    //On traite la suite une fois la réponse obtenue \n                    let postId = response.data.id;\n                    if (pictures.length >0) {\n                        const fd = new FormData();\n                        let pictureList = [];\n                        pictureList = pictures.map(p => {\n                            fd.append('image', p);\n                        });                    \n                        const config = {\n                            headers: {\n                                'Content-Type' : 'multipart/form-data',\n                                'x-access-token': currentUser.token,\n                                'Authorization': 'Bearer ' + currentUser.token,\n                            }\n                        }\n                        axios.post(UrlAPI + currentUser.id + '/posts/' + postId + '/images', fd, config)\n                        .then(function (response) {\n                            console.log('image:', response);\n                            window.location.reload(false);\n                        })\n                        .catch(function (error) {\n                            //On traite ici les erreurs éventuellement survenues\n                            console.log(error);\n                        });\n                    }\n                    else window.location.reload(false);\n                })\n                .catch(function (error) {\n                    //On traite ici les erreurs éventuellement survenues\n                    console.log(error);\n                });\n            } else if (theme == '' && newTheme != '') {\n                axios({\n                    method: 'post',\n                    url: UrlAPI + currentUser.id + '/themes',\n                    data: { user : currentUser.id, name: newTheme },\n                    headers: authHeader(),\n                })\n                .then(res => {\n                    axios({\n                        method: 'post',\n                        url: UrlAPI + currentUser.id + '/posts',\n                        data: { content : content, theme: res.data.id, user: currentUser.id },\n                        headers: authHeader(),\n                    })\n                    .then(function (response) {\n                        //On traite la suite une fois la réponse obtenue \n                        let postId = response.data.id;\n                        if (pictures.length >0) {\n                            const fd = new FormData();\n                            let pictureList = [];\n                            pictureList = pictures.map(p => {\n                                fd.append('image', p);\n                            });                    \n                            const config = {\n                                headers: {\n                                    'Content-Type' : 'multipart/form-data',\n                                    'x-access-token': currentUser.token,\n                                    'Authorization': 'Bearer ' + currentUser.token,\n                                }\n                            }\n                            axios.post(UrlAPI + currentUser.id + '/posts/' + postId + '/images', fd, config)\n                            .then(function (response) {\n                                console.log('image:', response);\n                                window.location.reload(false);\n                            })\n                            .catch(function (error) {\n                                //On traite ici les erreurs éventuellement survenues\n                                console.log(error);\n                            });\n                        }\n                        else window.location.reload(false);\n                    })\n                    .catch(function (error) {\n                        //On traite ici les erreurs éventuellement survenues\n                        console.log(error);\n                    });\n                })\n                .catch(err => {\n                    console.log(err);\n                });\n            }\n            else {\n                let errorBlock = document.getElementById('errorMessages');\n                let errorMessage = document.getElementById('error1');\n                let errorMessage2 = document.getElementById('error2');\n                errorBlock.style.cssText='display: block;';\n                errorMessage2.style.cssText='display: block;';\n                errorMessage.style.cssText='display: none;';\n            }\n            \n        };\n\n    return(\n        <div className= { classes.createPostBlock }>\n            <div className={classes.createPostHeader}>\n                <h2>PUBLIER UN POST</h2>\n            </div>\n            <div className={classes.createPostBody} >\n                <div className={classes.createPostBodyContent} >\n                    <textarea className={classes.postTextarea} placeholder=\"Ecrivez le contenu de votre post ici...\" value={content} onChange={handleContent}/>\n                    <ImageUploader\n                        withIcon={false}\n                        buttonText='Ajoutez des images'\n                        onChange={onDrop}\n                        imgExtension={['.jpg', '.gif', '.png', '.gif']}\n                        maxFileSize={5242880}\n                        withPreview={true}\n                        withLabel={false}\n                        fileSizeError='Image trop volumineuse'\n                        buttonStyles={{backgroundColor: '#757575', borderRadius: '5px', position: \"relative\", margin: \"0\", height: '30px'}}\n                    />\n                </div>\n                <div className={classes.buttons}>\n                    <select className={classes.dropDownList} value={theme} placeholder=\"Choisissez un thème\" onChange={handleChange}>\n                        <option value=\"\" defaultValue data-default>Choisissez un thème</option>\n                        {props.themes && props.themes.map((theme) => { \n                        return (\n                            <option key={theme.id} value={theme.id}>{theme.name}</option>\n                        ); })}\n                    </select>\n                    <div className={classes.buttonsText}>OU</div>\n                    <input className={classes.createTheme} type=\"text\" onChange={handleNewTheme} value={newTheme} id=\"new-theme\" placeholder=\"Créez un nouveau thème...\" />\n                    <Button onClick={handlePublication} className={classes.publish} >PUBLIER</Button>\n                </div>\n            </div>\n            <div id=\"errorMessages\" className={classes.errorMessages} >\n                    <p id=\"error1\" style={{display: 'none'}} >Veuillez ne renseigner qu'un seul thème.</p>\n                    <p id=\"error2\" style={{display: 'none'}} >Veuillez renseigner un thème.</p>\n            </div>\n        </div>\n    );\n\n};\n\nexport default CreatePost;","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/Header/SearchBox.js",["128"],"import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\nexport default function SearchBox(props) {\n\n  const [value, setValue] = useState(null);\n\n  return (\n    <Autocomplete\n      id=\"search-box\"\n      value={value}\n      onChange={(event, newValue) => {\n        setValue(newValue);\n        if (newValue) window.location.pathname = \"/profile/\" + newValue.id; \n      }}\n      options={props.userList}\n      clearOnEscape\n      getOptionLabel={(option) => option.firstname + ' ' + option.lastname}\n      style={{ width: 300, backgroundColor: 'white', outline: 'none', }}\n      renderInput={(params) => <TextField {...params} label=\"Rechercher un collègue...\" variant=\"outlined\" />}\n    />\n  );\n}\n\n","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/Likes.js",["129","130","131","132","133","134","135","136","137","138","139","140","141","142","143"],"import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\nimport authHeader from '../AuthForm/AuthHeader';\n\nconst UrlAPI = 'http://localhost:3000/api/';\n\n// STYLE :\n\nconst useStyles = makeStyles((theme) => ({\n    mentionsBlock: {\n        display: 'flex',\n    },\n    mentionButton: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        color: 'white',\n        backgroundColor: '#A2A2A2',\n        height: '5ch',\n        width: '15%',\n        borderRadius: '5px',\n        marginRight: '1ch',\n        marginTop: '1ch',\n        paddingLeft: '2ch',\n        paddingRight: '2ch',\n        \"&:hover\": {\n            cursor: 'pointer',\n            backgroundColor: '#FF5F39',\n        },\n        [theme.breakpoints.down('md')]: {\n            width: '20%',\n            marginTop: '2ch',\n        },\n    },\n    mentionNumber: {\n        fontWeight: '800',\n        fontSize: '16px',\n    },\n}));\n\n// LOGIQUE :\n\nconst Likes = ({postId}) => {\n\n    const classes = useStyles();\n\n    const [mentions, setMentions] = useState({});\n    const [myMention, setMyMention] = useState(0);\n\n    let currentUser = JSON.parse(sessionStorage.getItem(\"currentUser\"));\n\n    useEffect ( () => {\n        axios.get(UrlAPI + currentUser.id + '/mentions/' + postId, { headers: authHeader() })\n        .then(res => { setMentions(res.data); })\n        .catch(err => console.log(err));\n\n        axios.get(UrlAPI + currentUser.id + '/mentions/mine/' + postId + '/' + currentUser.id, { headers: authHeader() })\n        .then(result => result.data)\n        .then(data => setMyMention(data.mention))\n    }, []);\n\n    if (myMention && myMention == 1) {\n        document.getElementById('dislike'+ postId).style.backgroundColor=\"#A2A2A2\";\n        document.getElementById('like'+ postId).style.backgroundColor=\"#FF5F39\";\n    } else if (myMention && myMention == -1) {\n        document.getElementById('dislike'+ postId).style.backgroundColor=\"#FF5F39\";\n        document.getElementById('like'+ postId).style.backgroundColor=\"#A2A2A2\";\n    } else if (myMention && myMention == 0) {\n        document.getElementById('dislike'+ postId).style.backgroundColor=\"#A2A2A2\";\n        document.getElementById('like'+ postId).style.backgroundColor=\"#A2A2A2\";\n    }\n\n    const updateMyMention = (likedislike) => {\n        switch(myMention) {\n            case 0 :\n                if (likedislike == 1) {\n                    setMyMention(1);\n                    setMentions({ likes: mentions.likes+1, dislikes: mentions.dislikes });\n                } else if (likedislike == -1) {\n                    setMyMention(-1);\n                    setMentions({ likes: mentions.likes, dislikes: mentions.dislikes+1 });\n                }\n                break;\n            case 1 :\n                if (likedislike == 1) {\n                    setMyMention(0);\n                    setMentions({ likes: mentions.likes-1, dislikes: mentions.dislikes });\n                } else if (likedislike == -1) {\n                    setMyMention(-1);\n                    setMentions({ likes: mentions.likes-1, dislikes: mentions.dislikes+1 });\n                }\n                break;\n            case -1 :\n                if (likedislike == 1) {\n                    setMyMention(1);\n                    setMentions({ likes: mentions.likes+1, dislikes: mentions.dislikes-1 });\n                } else if (likedislike == -1) {\n                    setMyMention(0);\n                    setMentions({ likes: mentions.likes, dislikes: mentions.dislikes-1 });\n                }\n                break;\n        }\n    };\n\n    const handleLike = (e) => {\n        let name = e.target.getAttribute('name');\n        if(name == 'like') {\n            updateMyMention(1);\n            axios({\n                method: 'post',\n                url: UrlAPI + currentUser.id + '/mentions/' + postId,\n                data: {user: currentUser.id, post: postId, mention: 1},\n                headers: authHeader(),\n            })\n            .then(result => result.data)\n            .catch(err => console.log(err));\n        } else if( name == 'dislike') {\n            updateMyMention(-1);\n            axios({\n                method: 'post',\n                url: UrlAPI + currentUser.id + '/mentions/' + postId,\n                data: {user: currentUser.id, post: postId, mention: -1},\n                headers: authHeader(),\n            })\n            .then(result => result.data)\n            .catch(err => console.log(err));\n        } else {\n            return;\n        }\n        if (myMention == 1) {\n            document.getElementById('like'+postId).style.backgroundColor=\"red\";\n            document.getElementById('dislike'+postId).style.backgroundColor=\"#D64F30\";\n        } else if (myMention == -1) {\n            document.getElementById('dislike'+postId).style.backgroundColor=\"red\";\n            document.getElementById('like'+postId).style.backgroundColor=\"#D64F30\";\n        }\n    };\n    \n    return(\n        <>\n            <div className={classes.mentionsBlock}>\n                <div className={classes.mentionButton} id={'like' + postId} name='like' onClick={handleLike}>\n                    <ThumbUpIcon />\n                    <span className={classes.mentionNumber}>{mentions.likes}</span>\n                </div>\n                <div className={classes.mentionButton} id={'dislike' + postId} name='dislike' onClick={handleLike}>\n                    <ThumbDownIcon />\n                    <span className={classes.mentionNumber}>{mentions.dislikes}</span>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Likes;","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/Comments.js",["144","145","146","147","148","149","150","151","152","153","154","155","156","157"],"import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport { Avatar, Button, Link } from '@material-ui/core';\nimport { Person } from '@material-ui/icons';\nimport moment from 'moment';\nimport authHeader from '../AuthForm/AuthHeader';\n\nconst UrlAPI = \"http://localhost:3000/api/\";\n\n// STYLE :\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n        backgroundColor: '#E9E9E9',\n        marginTop: '1ch',\n        padding: '1ch',\n    },\n    input: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    inputText: {\n        width: '90%',\n        height: '4.5ch',\n        marginRight: '1ch',\n        border: 'solid 2px #555555',\n        padding: '0.5ch',\n        color: '#555555',\n        fontWeight: '500',\n        fontFamily: 'Avenir, Segoe, UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif',\n        [theme.breakpoints.down('md')]: {\n            width: '80%',\n        },\n    },\n    button: {\n        backgroundColor: '#555555',\n        color: 'white',\n        textTransform: 'lowercase',\n        height: '4.5ch',\n        width: '10%',\n        [theme.breakpoints.down('md')]: {\n            width: '20%',\n        },\n\n    },\n    firstLetter: {\n        textTransform: 'capitalize',\n    },\n    comments: {\n        backgroundColor: 'white',\n        width: '100%',\n        marginTop: '1ch',\n        padding: '1ch',\n    },\n    header: {\n        display: 'flex',\n        backgroundColor: 'white',\n        color: '#E3431D',\n        width: '25%',\n        height: '7ch',\n        marginTop: '0px',\n        textAlign: 'left',\n        paddingLeft: '2ch',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        textDecoration: 'none',\n        \"&:hover\": {\n            textDecoration: 'underline',\n        },\n        zIndex: '1',\n        [theme.breakpoints.down('md')]: {\n            width: '50%',\n            paddingLeft: '1ch',\n        },\n    },\n    avatar: {\n        border: '3px solid #445760',\n        width: '4ch',\n        height: '4ch',\n        marginRight: '1ch',\n    },\n    userName: {\n        fontWeight: '600',\n        fontSize: '18px',\n        position: 'relative',\n        top: '0.5ch',\n    },\n    postedDate: {\n        fontSize: '12px',\n        position: 'relative',\n        bottom: '2ch',\n    },\n    content: {\n        width: '100%',\n        height: '2ch',\n        textAlign: 'left',\n        paddingBottom: '4ch',\n    },\n    seeMoreButton: {\n        backgroundColor: '#555555',\n        color: 'white',\n        textTransform: 'lowercase',\n        height: '4ch',\n        alignSelf: 'flex-end',\n        marginTop: '1ch',\n    },\n}));\n\n// LOGIQUE :\n\nconst Comments = ({postId}) => {\n\n    let currentUser = JSON.parse(sessionStorage.getItem(\"currentUser\"));\n\n    const classes = useStyles();\n\n    const [commentsList, setCommentsList] = useState([]);\n    const [commentContent, setCommentContent] = useState(\"\");\n    const [userList, setUserList] = useState(null);\n    const [moreComments, setMoreComments] = useState(false);\n\n    let buttonText = moreComments ? 'Masquer les commentaires' : 'Voir plus de commentaires';\n\n    const getUsers = async () => {\n        const response = await axios.get(UrlAPI + currentUser.id + '/users', { headers: authHeader() })\n        .then(result => result.data)\n        .then(data => setUserList(data))\n    }\n\n    useEffect ( () => {\n        if (!userList) getUsers();\n        axios.get(UrlAPI + currentUser.id + '/comments/' + postId, { headers: authHeader() })\n        .then(res => setCommentsList(res.data))\n        .catch(err => console.log(err));\n    }, []);\n\n    const setCommentText = (e) => {\n        setCommentContent(e.target.value);\n    };\n\n    const handleComment = () => {\n        axios({\n                method: 'post',\n                url: UrlAPI + currentUser.id + '/comments/' + postId,\n                data: {user: currentUser.id, post: postId, content: commentContent},\n                headers: authHeader(),\n            })\n            .then(res => setCommentsList([res.data, ...commentsList]))\n            .catch(err => console.log(err));\n        setCommentContent(\"\");\n        return;\n    };\n\n    return(\n        <div className={classes.root}>\n            <div className={classes.input}>\n                <textarea className={classes.inputText} value={commentContent} onChange={setCommentText} type=\"text\" placeholder=\"Rédigez un commentaire...\"/>\n                <Button onClick={handleComment} className={classes.button} ><span className={classes.firstLetter}>C</span>ommenter</Button>\n            </div>\n            {userList && commentsList && commentsList.map( (comment,i ) => {\n                if ((i < 1 && moreComments == false) || (moreComments == true)) {\n                    return (\n                        <div key={comment.id} className={classes.comments}>\n                            {userList.filter(author => (comment.user == author.id)).map(author => {\n                            let src=\"\";\n                            if (author.profilePic) {\n                                let buff = author.profilePic.data;\n                                src = Buffer.from(buff).toString();\n                            }\n                            return (\n                            <React.Fragment key={comment.id} >\n                                <Link className={classes.header}>\n                                        <Avatar className={classes.avatar} >\n                                            {src==\"\" && <Person style={{fontSize: 30}} id=\"avatar\"/>}\n                                            {src!=\"\" && <img id=\"image\" src={src} style={{ width: '40px', height: '40px'}} />}\n                                        </Avatar>\n                                    <div>\n                                        <p className={classes.userName}>{author.firstname + \" \" + author.lastname}</p>\n                                        <p className={classes.postedDate}>Posté le {moment(comment.createdAt).format(\"DD/MM/YYYY\")} à {moment(comment.createdAt).format(\"HH:m\")} </p>\n                                    </div>\n                                </Link>\n                                <div className={classes.content}>\n                                    <p className={classes.contentText}>{comment.content}</p>\n                                </div>\n                            </React.Fragment>\n                            ); }) }\n                        </div>\n                    )\n                }\n                else if (moreComments == true) {\n                    return (\n                        <div key={comment.id} className={classes.comments}>\n                            {userList.filter(author => (comment.user == author.id)).map(author => {\n                            let src=\"\";\n                            if (author.profilePic) {\n                                let buff = author.profilePic.data;\n                                src = Buffer.from(buff).toString();\n                            }\n                            return (\n                            <React.Fragment key={comment.id} >\n                                <Link className={classes.header}>\n                                    <div className={classes.headerPic} >\n                                        <Avatar className={classes.avatar} >\n                                            {src==\"\" && <Person style={{fontSize: 40}} id=\"avatar\"/>}\n                                            {src!=\"\" && <img id=\"image\" src={src} style={{ width: '40px', height: '40px'}} />}\n                                        </Avatar>\n                                    </div>\n                                    <div className={classes.headerText} >\n                                        <p className={classes.headerName}>{author.firstname + \" \" + author.lastname}</p>\n                                        <p className={classes.headerDate}>Posté le {moment(comment.createdAt).format(\"DD/MM/YYYY\")} à {moment(comment.createdAt).format(\"HH:m\")} </p>\n                                    </div>\n                                </Link>\n                                <div className={classes.content}>\n                                    <p className={classes.contentText}>{comment.content}</p>\n                                </div>\n                            </React.Fragment>\n                            ); }) }\n                        </div>\n                    )\n                } else return;\n            })}\n            <Button className={classes.seeMoreButton} onClick={() => setMoreComments(!moreComments)}>{buttonText}</Button>\n        </div>\n    )\n};\n\nexport default Comments;","/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/AuthForm/AuthHeader.js",[],"/Users/mathildedescamps/Git/OpenClassrooms/P7/frontend/my-app/src/components/PostAndTheme/Post.js",["158","159","160","161","162"],{"ruleId":"163","replacedBy":"164"},{"ruleId":"165","replacedBy":"166"},{"ruleId":"167","severity":1,"message":"168","line":1,"column":27,"nodeType":"169","messageId":"170","endLine":1,"endColumn":36},{"ruleId":"167","severity":1,"message":"171","line":4,"column":84,"nodeType":"169","messageId":"170","endLine":4,"endColumn":100},{"ruleId":"167","severity":1,"message":"172","line":4,"column":118,"nodeType":"169","messageId":"170","endLine":4,"endColumn":126},{"ruleId":"173","severity":1,"message":"174","line":154,"column":26,"nodeType":"175","messageId":"176","endLine":154,"endColumn":28},{"ruleId":"173","severity":1,"message":"174","line":166,"column":29,"nodeType":"175","messageId":"176","endLine":166,"endColumn":31},{"ruleId":"173","severity":1,"message":"174","line":178,"column":30,"nodeType":"175","messageId":"176","endLine":178,"endColumn":32},{"ruleId":"173","severity":1,"message":"174","line":190,"column":29,"nodeType":"175","messageId":"176","endLine":190,"endColumn":31},{"ruleId":"173","severity":1,"message":"174","line":202,"column":27,"nodeType":"175","messageId":"176","endLine":202,"endColumn":29},{"ruleId":"167","severity":1,"message":"177","line":14,"column":9,"nodeType":"169","messageId":"170","endLine":14,"endColumn":16},{"ruleId":"167","severity":1,"message":"178","line":23,"column":11,"nodeType":"169","messageId":"170","endLine":23,"endColumn":19},{"ruleId":"173","severity":1,"message":"174","line":27,"column":22,"nodeType":"175","messageId":"176","endLine":27,"endColumn":24},{"ruleId":"179","severity":1,"message":"180","line":35,"column":6,"nodeType":"181","endLine":35,"endColumn":8,"suggestions":"182"},{"ruleId":"167","severity":1,"message":"183","line":69,"column":12,"nodeType":"169","messageId":"170","endLine":69,"endColumn":21},{"ruleId":"167","severity":1,"message":"184","line":69,"column":23,"nodeType":"169","messageId":"170","endLine":69,"endColumn":35},{"ruleId":"185","severity":1,"message":"186","line":97,"column":31,"nodeType":"187","endLine":97,"endColumn":102},{"ruleId":"167","severity":1,"message":"178","line":17,"column":11,"nodeType":"169","messageId":"170","endLine":17,"endColumn":19},{"ruleId":"179","severity":1,"message":"188","line":27,"column":6,"nodeType":"181","endLine":27,"endColumn":8,"suggestions":"189"},{"ruleId":"173","severity":1,"message":"174","line":100,"column":46,"nodeType":"175","messageId":"176","endLine":100,"endColumn":48},{"ruleId":"179","severity":1,"message":"190","line":115,"column":8,"nodeType":"181","endLine":115,"endColumn":10,"suggestions":"191"},{"ruleId":"179","severity":1,"message":"192","line":122,"column":8,"nodeType":"181","endLine":122,"endColumn":10,"suggestions":"193"},{"ruleId":"173","severity":1,"message":"174","line":133,"column":121,"nodeType":"175","messageId":"176","endLine":133,"endColumn":123},{"ruleId":"194","severity":1,"message":"195","line":89,"column":13,"nodeType":"196","messageId":"176","endLine":89,"endColumn":21},{"ruleId":"173","severity":1,"message":"174","line":165,"column":46,"nodeType":"175","messageId":"176","endLine":165,"endColumn":48},{"ruleId":"179","severity":1,"message":"190","line":180,"column":8,"nodeType":"181","endLine":180,"endColumn":10,"suggestions":"197"},{"ruleId":"179","severity":1,"message":"192","line":187,"column":8,"nodeType":"181","endLine":187,"endColumn":10,"suggestions":"198"},{"ruleId":"179","severity":1,"message":"199","line":194,"column":24,"nodeType":"200","endLine":194,"endColumn":51},{"ruleId":"179","severity":1,"message":"201","line":195,"column":23,"nodeType":"202","endLine":195,"endColumn":51},{"ruleId":"185","severity":1,"message":"186","line":221,"column":31,"nodeType":"187","endLine":221,"endColumn":157},{"ruleId":"173","severity":1,"message":"174","line":223,"column":47,"nodeType":"175","messageId":"176","endLine":223,"endColumn":49},{"ruleId":"173","severity":1,"message":"174","line":223,"column":89,"nodeType":"175","messageId":"176","endLine":223,"endColumn":91},{"ruleId":"173","severity":1,"message":"174","line":238,"column":79,"nodeType":"175","messageId":"176","endLine":238,"endColumn":81},{"ruleId":"173","severity":1,"message":"174","line":238,"column":164,"nodeType":"175","messageId":"176","endLine":238,"endColumn":166},{"ruleId":"167","severity":1,"message":"203","line":113,"column":12,"nodeType":"169","messageId":"170","endLine":113,"endColumn":16},{"ruleId":"167","severity":1,"message":"204","line":113,"column":18,"nodeType":"169","messageId":"170","endLine":113,"endColumn":25},{"ruleId":"173","severity":1,"message":"205","line":137,"column":22,"nodeType":"175","messageId":"176","endLine":137,"endColumn":24},{"ruleId":"173","severity":1,"message":"205","line":137,"column":40,"nodeType":"175","messageId":"176","endLine":137,"endColumn":42},{"ruleId":"173","severity":1,"message":"205","line":144,"column":30,"nodeType":"175","messageId":"176","endLine":144,"endColumn":32},{"ruleId":"173","severity":1,"message":"174","line":144,"column":48,"nodeType":"175","messageId":"176","endLine":144,"endColumn":50},{"ruleId":"167","severity":1,"message":"206","line":157,"column":25,"nodeType":"169","messageId":"170","endLine":157,"endColumn":36},{"ruleId":"207","severity":1,"message":"208","line":157,"column":54,"nodeType":"209","messageId":"210","endLine":157,"endColumn":56},{"ruleId":"173","severity":1,"message":"174","line":183,"column":30,"nodeType":"175","messageId":"176","endLine":183,"endColumn":32},{"ruleId":"173","severity":1,"message":"205","line":183,"column":48,"nodeType":"175","messageId":"176","endLine":183,"endColumn":50},{"ruleId":"167","severity":1,"message":"206","line":203,"column":29,"nodeType":"169","messageId":"170","endLine":203,"endColumn":40},{"ruleId":"207","severity":1,"message":"208","line":203,"column":58,"nodeType":"209","messageId":"210","endLine":203,"endColumn":60},{"ruleId":"167","severity":1,"message":"168","line":1,"column":27,"nodeType":"169","messageId":"170","endLine":1,"endColumn":36},{"ruleId":"179","severity":1,"message":"211","line":63,"column":8,"nodeType":"181","endLine":63,"endColumn":10,"suggestions":"212"},{"ruleId":"173","severity":1,"message":"174","line":65,"column":32,"nodeType":"175","messageId":"176","endLine":65,"endColumn":34},{"ruleId":"173","severity":1,"message":"174","line":68,"column":39,"nodeType":"175","messageId":"176","endLine":68,"endColumn":41},{"ruleId":"173","severity":1,"message":"174","line":71,"column":39,"nodeType":"175","messageId":"176","endLine":71,"endColumn":41},{"ruleId":"213","severity":1,"message":"214","line":77,"column":9,"nodeType":"215","messageId":"216","endLine":105,"endColumn":10},{"ruleId":"173","severity":1,"message":"174","line":79,"column":33,"nodeType":"175","messageId":"176","endLine":79,"endColumn":35},{"ruleId":"173","severity":1,"message":"174","line":82,"column":40,"nodeType":"175","messageId":"176","endLine":82,"endColumn":42},{"ruleId":"173","severity":1,"message":"174","line":88,"column":33,"nodeType":"175","messageId":"176","endLine":88,"endColumn":35},{"ruleId":"173","severity":1,"message":"174","line":91,"column":40,"nodeType":"175","messageId":"176","endLine":91,"endColumn":42},{"ruleId":"173","severity":1,"message":"174","line":97,"column":33,"nodeType":"175","messageId":"176","endLine":97,"endColumn":35},{"ruleId":"173","severity":1,"message":"174","line":100,"column":40,"nodeType":"175","messageId":"176","endLine":100,"endColumn":42},{"ruleId":"173","severity":1,"message":"174","line":110,"column":17,"nodeType":"175","messageId":"176","endLine":110,"endColumn":19},{"ruleId":"173","severity":1,"message":"174","line":120,"column":25,"nodeType":"175","messageId":"176","endLine":120,"endColumn":27},{"ruleId":"173","severity":1,"message":"174","line":133,"column":23,"nodeType":"175","messageId":"176","endLine":133,"endColumn":25},{"ruleId":"173","severity":1,"message":"174","line":136,"column":30,"nodeType":"175","messageId":"176","endLine":136,"endColumn":32},{"ruleId":"167","severity":1,"message":"178","line":130,"column":15,"nodeType":"169","messageId":"170","endLine":130,"endColumn":23},{"ruleId":"179","severity":1,"message":"217","line":140,"column":8,"nodeType":"181","endLine":140,"endColumn":10,"suggestions":"218"},{"ruleId":"173","severity":1,"message":"174","line":166,"column":44,"nodeType":"175","messageId":"176","endLine":166,"endColumn":46},{"ruleId":"173","severity":1,"message":"174","line":166,"column":71,"nodeType":"175","messageId":"176","endLine":166,"endColumn":73},{"ruleId":"173","severity":1,"message":"174","line":169,"column":70,"nodeType":"175","messageId":"176","endLine":169,"endColumn":72},{"ruleId":"173","severity":1,"message":"174","line":179,"column":49,"nodeType":"175","messageId":"176","endLine":179,"endColumn":51},{"ruleId":"173","severity":1,"message":"205","line":180,"column":49,"nodeType":"175","messageId":"176","endLine":180,"endColumn":51},{"ruleId":"185","severity":1,"message":"186","line":180,"column":57,"nodeType":"187","endLine":180,"endColumn":126},{"ruleId":"173","severity":1,"message":"174","line":195,"column":39,"nodeType":"175","messageId":"176","endLine":195,"endColumn":41},{"ruleId":"173","severity":1,"message":"174","line":198,"column":70,"nodeType":"175","messageId":"176","endLine":198,"endColumn":72},{"ruleId":"173","severity":1,"message":"174","line":209,"column":49,"nodeType":"175","messageId":"176","endLine":209,"endColumn":51},{"ruleId":"173","severity":1,"message":"205","line":210,"column":49,"nodeType":"175","messageId":"176","endLine":210,"endColumn":51},{"ruleId":"185","severity":1,"message":"186","line":210,"column":57,"nodeType":"187","endLine":210,"endColumn":126},{"ruleId":"207","severity":1,"message":"208","line":225,"column":24,"nodeType":"219","messageId":"220","endLine":225,"endColumn":31},{"ruleId":"179","severity":1,"message":"199","line":149,"column":24,"nodeType":"200","endLine":149,"endColumn":51},{"ruleId":"179","severity":1,"message":"201","line":150,"column":23,"nodeType":"202","endLine":150,"endColumn":51},{"ruleId":"173","severity":1,"message":"174","line":154,"column":33,"nodeType":"175","messageId":"176","endLine":154,"endColumn":35},{"ruleId":"173","severity":1,"message":"174","line":154,"column":75,"nodeType":"175","messageId":"176","endLine":154,"endColumn":77},{"ruleId":"185","severity":1,"message":"186","line":186,"column":31,"nodeType":"187","endLine":186,"endColumn":102},"no-native-reassign",["221"],"no-negated-in-lhs",["222"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'FormControlLabel' is defined but never used.","'Checkbox' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'history' is assigned a value but never used.","'response' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'userList'. Either include it or remove the dependency array.","ArrayExpression",["223"],"'userInfos' is assigned a value but never used.","'setUserInfos' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has missing dependencies: 'getUsers' and 'userList'. Either include them or remove the dependency array.",["224"],"React Hook useEffect has missing dependencies: 'currentUser.id', 'getUser', and 'users'. Either include them or remove the dependency array.",["225"],"React Hook useEffect has a missing dependency: 'currentUser.id'. Either include it or remove the dependency array.",["226"],"no-dupe-keys","Duplicate key 'position'.","ObjectExpression",["227"],["228"],"Assignments to the 'buff' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","MemberExpression","Assignments to the 'src' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","CallExpression","'user' is assigned a value but never used.","'setUser' is assigned a value but never used.","Expected '!==' and instead saw '!='.","'pictureList' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has missing dependencies: 'currentUser.id' and 'postId'. Either include them or remove the dependency array.",["229"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","React Hook useEffect has missing dependencies: 'currentUser.id', 'getUsers', 'postId', and 'userList'. Either include them or remove the dependency array.",["230"],"ReturnStatement","expectedReturnValue","no-global-assign","no-unsafe-negation",{"desc":"231","fix":"232"},{"desc":"233","fix":"234"},{"desc":"235","fix":"236"},{"desc":"237","fix":"238"},{"desc":"235","fix":"239"},{"desc":"237","fix":"240"},{"desc":"241","fix":"242"},{"desc":"243","fix":"244"},"Update the dependencies array to be: [userList]",{"range":"245","text":"246"},"Update the dependencies array to be: [getUsers, userList]",{"range":"247","text":"248"},"Update the dependencies array to be: [currentUser.id, getUser, users]",{"range":"249","text":"250"},"Update the dependencies array to be: [currentUser.id]",{"range":"251","text":"252"},{"range":"253","text":"250"},{"range":"254","text":"252"},"Update the dependencies array to be: [currentUser.id, postId]",{"range":"255","text":"256"},"Update the dependencies array to be: [currentUser.id, getUsers, postId, userList]",{"range":"257","text":"258"},[1102,1104],"[userList]",[931,933],"[getUsers, userList]",[3376,3378],"[currentUser.id, getUser, users]",[3691,3693],"[currentUser.id]",[5211,5213],[5527,5529],[1798,1800],"[currentUser.id, postId]",[3770,3772],"[currentUser.id, getUsers, postId, userList]"]